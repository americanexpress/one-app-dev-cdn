// Jest Snapshot v1, https://goo.gl/fbAQLP

exports[`one-app-dev-cdn module-map.json extends the remote map with the local map 1`] = `"{\\"key\\":\\"not-used-in-development\\",\\"modules\\":{\\"module-b\\":{\\"node\\":{\\"url\\":\\"http://localhost:3001/static/cdn/module-b/1.0.0/module-b.node.js\\",\\"integrity\\":\\"123\\"},\\"browser\\":{\\"url\\":\\"http://localhost:3001/static/cdn/module-b/1.0.0/module-b.browser.js\\",\\"integrity\\":\\"234\\"},\\"legacyBrowser\\":{\\"url\\":\\"http://localhost:3001/static/cdn/module-b/1.0.0/module-b.legacy.browser.js\\",\\"integrity\\":\\"345\\"}},\\"module-a\\":{\\"node\\":{\\"url\\":\\"https://example.com/cdn/module-a/1.0.0/module-a.node.js\\",\\"integrity\\":\\"123\\"},\\"browser\\":{\\"url\\":\\"https://example.com/cdn/module-a/1.0.0/module-a.browser.js\\",\\"integrity\\":\\"234\\"},\\"legacyBrowser\\":{\\"url\\":\\"https://example.com/cdn/module-a/1.0.0/module-a.legacy.browser.js\\",\\"integrity\\":\\"345\\"}}}}"`;

exports[`one-app-dev-cdn module-map.json extends the remote map with the local map and uses host instead of localhost 1`] = `"{\\"key\\":\\"not-used-in-development\\",\\"modules\\":{\\"module-b\\":{\\"node\\":{\\"url\\":\\"http://0.0.0.0:3001/static/cdn/module-b/1.0.0/module-b.node.js\\",\\"integrity\\":\\"123\\"},\\"browser\\":{\\"url\\":\\"http://0.0.0.0:3001/static/cdn/module-b/1.0.0/module-b.browser.js\\",\\"integrity\\":\\"234\\"},\\"legacyBrowser\\":{\\"url\\":\\"http://0.0.0.0:3001/static/cdn/module-b/1.0.0/module-b.legacy.browser.js\\",\\"integrity\\":\\"345\\"}},\\"module-a\\":{\\"node\\":{\\"url\\":\\"https://example.com/cdn/module-a/1.0.0/module-a.node.js\\",\\"integrity\\":\\"123\\"},\\"browser\\":{\\"url\\":\\"https://example.com/cdn/module-a/1.0.0/module-a.browser.js\\",\\"integrity\\":\\"234\\"},\\"legacyBrowser\\":{\\"url\\":\\"https://example.com/cdn/module-a/1.0.0/module-a.legacy.browser.js\\",\\"integrity\\":\\"345\\"}}}}"`;

exports[`one-app-dev-cdn module-map.json uses the local map overriding the cdn url placeholder with the one-app-dev-cdn url 1`] = `
Object {
  "key": "not-used-in-development",
  "modules": Object {
    "module-a": Object {
      "browser": Object {
        "integrity": "234",
        "url": "http://localhost:3001/module-a/1.0.0/module-a.browser.js",
      },
      "legacyBrowser": Object {
        "integrity": "345",
        "url": "http://localhost:3001/module-a/1.0.0/module-a.legacy.browser.js",
      },
      "node": Object {
        "integrity": "123",
        "url": "http://localhost:3001/module-a/1.0.0/module-a.node.js",
      },
    },
  },
}
`;

exports[`one-app-dev-cdn modules gets remote modules: module map response 1`] = `"{\\"key\\":\\"not-used-in-development\\",\\"modules\\":{\\"module-b\\":{\\"node\\":{\\"url\\":\\"http://localhost:3001/static/cdn/module-b/1.0.0/module-b.node.js\\",\\"integrity\\":\\"123\\"},\\"browser\\":{\\"url\\":\\"http://localhost:3001/static/cdn/module-b/1.0.0/module-b.browser.js\\",\\"integrity\\":\\"234\\"},\\"legacyBrowser\\":{\\"url\\":\\"http://localhost:3001/static/cdn/module-b/1.0.0/module-b.legacy.browser.js\\",\\"integrity\\":\\"345\\"}}}}"`;

exports[`one-app-dev-cdn modules gets remote modules: module response 1`] = `
Array [
  Array [
    "https://example.com/module-map.json",
    Object {
      "agent": ProxyAgent {
        "_events": Object {},
        "_eventsCount": 0,
        "_maxListeners": undefined,
        "_promisifiedCallback": false,
        "callback": [Function],
        "options": undefined,
        "timeout": null,
        Symbol(kCapture): false,
      },
    },
  ],
  Array [
    "https://example.com//cdn/module-b/1.0.0/module-b.node.js",
    Object {
      "agent": ProxyAgent {
        "_events": Object {},
        "_eventsCount": 0,
        "_maxListeners": undefined,
        "_promisifiedCallback": false,
        "callback": [Function],
        "options": undefined,
        "timeout": null,
        Symbol(kCapture): false,
      },
      "headers": Object {
        "connection": "keep-alive",
      },
    },
  ],
]
`;

exports[`one-app-dev-cdn modules returns a 404 if a request for something not known as a module from the module map comes in: module map response 1`] = `"{\\"key\\":\\"not-used-in-development\\",\\"modules\\":{\\"module-b\\":{\\"node\\":{\\"url\\":\\"http://localhost:3001/static/cdn/module-b/1.0.0/module-b.node.js\\",\\"integrity\\":\\"123\\"},\\"browser\\":{\\"url\\":\\"http://localhost:3001/static/cdn/module-b/1.0.0/module-b.browser.js\\",\\"integrity\\":\\"234\\"},\\"legacyBrowser\\":{\\"url\\":\\"http://localhost:3001/static/cdn/module-b/1.0.0/module-b.legacy.browser.js\\",\\"integrity\\":\\"345\\"}}}}"`;

exports[`one-app-dev-cdn modules returns a 404 if a request for something not known as a module from the module map comes in: remote calls from got 1`] = `
Array [
  Array [
    "https://example.com/module-map.json",
    Object {
      "agent": ProxyAgent {
        "_events": Object {},
        "_eventsCount": 0,
        "_maxListeners": undefined,
        "_promisifiedCallback": false,
        "callback": [Function],
        "options": undefined,
        "timeout": null,
        Symbol(kCapture): false,
      },
    },
  ],
]
`;

exports[`one-app-dev-cdn modules returns a 500 if a request to proxy a module from the module map fails: module map response 1`] = `"{\\"key\\":\\"not-used-in-development\\",\\"modules\\":{\\"module-b\\":{\\"node\\":{\\"url\\":\\"http://localhost:3001/static/cdn/module-b/1.0.0/module-b.node.js\\",\\"integrity\\":\\"123\\"},\\"browser\\":{\\"url\\":\\"http://localhost:3001/static/cdn/module-b/1.0.0/module-b.browser.js\\",\\"integrity\\":\\"234\\"},\\"legacyBrowser\\":{\\"url\\":\\"http://localhost:3001/static/cdn/module-b/1.0.0/module-b.legacy.browser.js\\",\\"integrity\\":\\"345\\"}}}}"`;

exports[`one-app-dev-cdn modules returns a 500 if a request to proxy a module from the module map fails: remote calls from got 1`] = `
Array [
  Array [
    "https://example.com/module-map.json",
    Object {
      "agent": ProxyAgent {
        "_events": Object {},
        "_eventsCount": 0,
        "_maxListeners": undefined,
        "_promisifiedCallback": false,
        "callback": [Function],
        "options": undefined,
        "timeout": null,
        Symbol(kCapture): false,
      },
    },
  ],
]
`;

exports[`one-app-dev-cdn usage should throw if appPort is not given 1`] = `"appPort is a required param"`;

exports[`one-app-dev-cdn usage should throw if localDevPublicPath is not given 1`] = `"localDevPublicPath is a required param"`;

exports[`one-app-dev-cdn usage should throw if neither remoteModuleMapUrl nor useLocalModules is given 1`] = `"remoteModuleMapUrl is a required param when useLocalModules is not true"`;
